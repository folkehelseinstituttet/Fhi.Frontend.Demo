<div class="fhi-tree-view-navigation">
  <ng-container *ngTemplateOutlet="nodeList; context: { nodes: nodes }"></ng-container>
</div>

<ng-template #nodeList let-nodes="nodes">
  <ul>
    <li *ngFor="let node of nodes">
      <ng-container *ngIf="node.routerLink">
        <ng-container *ngTemplateOutlet="routerLink; context: { node: node }"></ng-container>
      </ng-container>

      <ng-container *ngIf="node.href">
        <ng-container *ngTemplateOutlet="href; context: { node: node }"></ng-container>
      </ng-container>

      <ng-container *ngIf="!node.routerLink && !node.href">
        <ng-container *ngTemplateOutlet="text; context: { node: node }"></ng-container>
      </ng-container>

      <ng-container *ngIf="node.isExpanded">
        <ng-container *ngTemplateOutlet="nodeList; context: { nodes: node.children }"></ng-container>
      </ng-container>
    </li>
  </ul>
</ng-template>


<ng-template #routerLink let-node="node">
  <a
    class="fhi-tree-view-navigation__link"
    [routerLink]="node.routerLink"
    routerLinkActive="active"
  >
    <span class="fhi-tree-view-navigation__link-text">{{ node.name }}</span>
  </a>
</ng-template>


<ng-template #href let-node="node">
  <a
    class="fhi-tree-view-navigation__link"
    [ngClass]="{ 'active': node.hasActiveDescendant }"
    href="{{ node.href }}"
  >
    <span class="fhi-tree-view-navigation__link-text">{{ node.name }}</span>
  </a>
  (href-test)
</ng-template>


<ng-template #text let-node="node">
  <span
    class="fhi-tree-view-navigation__not-link"
    [ngClass]="{ 'active': node.hasActiveDescendant || node.isActive }"
    *ngIf="!node.link"
  >
    {{ node.name }}
  </span>
</ng-template>


<ng-template #f let-node="node">
</ng-template>

