<div class="fhi-week-selector">
  <div class="fhi-datepicker">
    <label class="form-label fhi-datepicker__label"
          [for]="uniqueId">{{ label }}</label>
    
    <button class="fhi-datepicker__toggler"
            style="z-index: 2"
            aria-haspopup="true"
            (click)="datepicker.toggle()">
      <i class="icon-calendar"></i>
      <span class="visually-hidden">Åpne ukesvelger</span>
    </button>

    <div class="position-relative" style="z-index: 1">
      <input class="form-control fhi-datepicker__form-control invisible"
             autocomplete="off"
             type="text"
             [maxDate]="maxDate"
             [minDate]="minDate"
             [(ngModel)]="model"
             [showWeekNumbers]="true"
             ngbDatepicker
             #datepicker="ngbDatepicker"
             (dateSelect)="onWeekSelection($event)"/>
      <input class="form-control fhi-datepicker__form-control position-absolute top-0"
             [ngClass]="{ 'is-invalid': !weekIsValid }"
             autocomplete="off"
             [id]="uniqueId"
             [(ngModel)]="week"
             inputmode="decimal"
             (change)="onDirectInputWeek()"
             placeholder="åååå - uke"/>
    </div>
    <p class="invalid-feedback" *ngIf="!weekIsValid" [innerHTML]="errorMsg"></p>
  </div>
</div>
